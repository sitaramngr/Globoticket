name: test

on: [workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4.2.2
    - name: setup dot net
      uses: actions/setup-dotnet@v4.2.0
    - name: restore dependancy 
    - name: add markdown report logger for frontend project
      run: dotnet add unittests/unittests.csproj  package LiquidTestReports.Markdown
    - name: Test
      run: dotnet test --logger "liquid.md;logfilename=testResults.md" 
    - name: Output the results to the actions jobsummary
      if: always()
      run: cat $(find . -name testResults.md) >> $GITHUB_STEP_SUMMARY
  
